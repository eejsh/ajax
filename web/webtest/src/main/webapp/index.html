<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-compatible" content="ie=edge, chrome=1">
<meta name ="viewport" content="width=device-width, initial-scale=1.0" >

<title>AJAX 1일차(XML 파일로드)</title>
<!-- Ajax(비동기화) : 비동기 통신을 기본으로 하는 통신언어 + JS, JQ, (Ajax는 코드 다름) 
               (soket.io, node.js)  soket.io 는 무조건 비동기화. 실시간, 속도 빠름! java soket..-->
<!-- Ajax(동기화) : node.js(ansync)  (동기화 통신) 
동기화 :  순서대로 프로세서가 진행 되었다는 뜻.  (주고-> 받고 -> 다시 주기를 차례로 함)
동기화의 단점 : 프로세서 진행이 느립니다.
비동기화 : 실시간 통신
비동기화 단점 : 버그 발생 시 버그 위치를 정확히 파악하기가 어려움.
-->


</head>
<body>
<!-- <img src ="./123/jpg"> -->
<input type ="button" value="통신" onclick="ajax();">



<!-- <form name="f" id="f" method="post" action="first.do"> -->

<!-- <input type = "text" name="mid"> -->
<!-- <input type ="submit" value ="전송"> -->

<!-- </form> -->

</body>
<script>

let data;
//ajax를 통한 데이터 값을 저장하기 위한 변수. 변수 하나 만들고 시작해야됨.

function ajax(){
	
	function wck(){
		
		if(window.XMLHttpRequest){
			return new XMLHttpRequest();
		}
	}
	function fileload(){
		if(data.readyState==XMLHttpRequest.DONE && data.status==200 ){    //done 문제없이 성공했을 시
			console.log(this.responseXML);   //XML 외에는 response사용함. 
		}
		
	}
	data = wck(); //통신 선언함수를 data라는 변수로 전달
	data.onreadystatechange = fileload;    // 해당 파일 상태가 올바른지 파악.
	data.open("GET", "./test.xml", true);  //GET, POST, put..  
	data.send();                           // 해당 통신파일 체크하여 해당정보를 비동기로 적용함.  
	
}

</script>


</html>